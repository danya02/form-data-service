{% extends "base.html" %}
{% block title %}Your projects{% endblock %}
{% block content %}

{% for category, message in get_flashed_messages(with_categories=true) %}
<div class="alert alert-{{category}} alert-dismissible fade show mt-2" role="alert">
    {% if message == 'left-project' %}
        You have left the project.
    {% elif message == 'project-deleted' %}
        The project was deleted.
    {% else %}
        Unknown status: <code>{{message}}</code>
    {% endif %}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}


    <div class="row mb-2 row-cols-lg-6 gy-4">
        <div class="col-lg-6">
            <h2>Projects you own</h2>

            {% for project in owned_projects %}
                {% include "project-card.html" with context %}
            {% else %}
                <p>You are not the owner of any projects yet.</p>
            {% endfor %}

            <form action="{{ url_for('projects.create') }}" method="POST">
                {{ create_form.csrf_token }}
                <button type="submit" class="btn btn-success">Create new project</button>
            </form>


        </div>

        <div class="col-lg-6">
            <h2>Projects you are a member of</h2>

            {% for project in member_projects %}
                {% include "project-card.html" with context %}
            {% else %}
                <p>You are not a member of any projects yet.</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}